# Hackernel Daemon

这是一个C++项目,仅在更适合使用C的部分使用C语言实现.

与内核模块相对应的唯一的服务端进程,同时它通过IPC提供服务,供其他客户端使用.
这个进程如果异常停止工作,内核模块也响应的停止所有策略

功能模块在目录里单独实现,相互之间尽可能解耦合.

下面根据目录结构简单说明一下各个模块的功能.虽然已经尽力的发现并修正错误,但错误难免还会存在,也在此说明各个模块产生异常后可能存在的风险.

|目录|功能说明|已知风险|
|:-|:-|:-|
|include|所有模块的头文件放在这里|-|
|ipc|通过Unix Domain Socket对外提供服务,外部客户端也仅能跟这个模块直接交互,它负责与net, file 和 process通信|无法正确响应外部客户端的命令|
|keepalive|负责握手和向内核发送心跳包,如果内核模块无法收到心跳包将停止工作(仅本项目的内核模块,不影响内核中其他部分)|内核误判导致功能失效|
|net|通过netfilter实现的简单防火墙|网络包被异常阻止|
|file|通过hook文件相关的系统调用阻止文件创建删除重命名等操作|文件系统损坏|
|process|通过hook进程创建相关的系统调用阻止进程创建|无法创建新进程,产生系统无响应的现象|
|util|一些必要的,但又不属于某个模块的功能函数|-|
|build|构建的目录,推荐在这个目录下用cmake编译|-|

上述风险中,除了文件系统损坏需要通过提前备份文件,其他问题都可以通过关闭内核模块解决.
